<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Can Opener - ME 507: TempSensor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Can Opener - ME 507
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_temp_sensor.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_temp_sensor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TempSensor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class that reads temperature over I2C from the MCP9808 temperature sensor.  
 <a href="class_temp_sensor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_temp_sensor_8h_source.html">TempSensor.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5ca31c0660d324abe25c5cc735aedcf4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_temp_sensor.html#a5ca31c0660d324abe25c5cc735aedcf4">TempSensor</a> (uint8_t scl, uint8_t sda, uint8_t add)</td></tr>
<tr class="memdesc:a5ca31c0660d324abe25c5cc735aedcf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the <a class="el" href="class_temp_sensor.html" title="Class that reads temperature over I2C from the MCP9808 temperature sensor.">TempSensor</a> class.  <a href="class_temp_sensor.html#a5ca31c0660d324abe25c5cc735aedcf4">More...</a><br /></td></tr>
<tr class="separator:a5ca31c0660d324abe25c5cc735aedcf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba3ed204bae6bc9f506993001460215e"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_temp_sensor.html#aba3ed204bae6bc9f506993001460215e">getTempC</a> ()</td></tr>
<tr class="memdesc:aba3ed204bae6bc9f506993001460215e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the temperature in Celsius from the sensor.  <a href="class_temp_sensor.html#aba3ed204bae6bc9f506993001460215e">More...</a><br /></td></tr>
<tr class="separator:aba3ed204bae6bc9f506993001460215e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae0549e59a37efff50d5968aea18ef63"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_temp_sensor.html#aae0549e59a37efff50d5968aea18ef63">getTempF</a> ()</td></tr>
<tr class="memdesc:aae0549e59a37efff50d5968aea18ef63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the temperature in Fahrenheit.  <a href="class_temp_sensor.html#aae0549e59a37efff50d5968aea18ef63">More...</a><br /></td></tr>
<tr class="separator:aae0549e59a37efff50d5968aea18ef63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8a5c53b7f79ce65ae45b5162759acbd"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_temp_sensor.html#ae8a5c53b7f79ce65ae45b5162759acbd">getManuCode</a> ()</td></tr>
<tr class="memdesc:ae8a5c53b7f79ce65ae45b5162759acbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the manufacturer code from the MCP9808.  <a href="class_temp_sensor.html#ae8a5c53b7f79ce65ae45b5162759acbd">More...</a><br /></td></tr>
<tr class="separator:ae8a5c53b7f79ce65ae45b5162759acbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:acab5d7bd8a1f263e29504075180315b0"><td class="memItemLeft" align="right" valign="top"><a id="acab5d7bd8a1f263e29504075180315b0"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_temp_sensor.html#acab5d7bd8a1f263e29504075180315b0">scl_pin</a></td></tr>
<tr class="memdesc:acab5d7bd8a1f263e29504075180315b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">SCL pin. <br /></td></tr>
<tr class="separator:acab5d7bd8a1f263e29504075180315b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cccb0b4996fea4fef493cac215964dc"><td class="memItemLeft" align="right" valign="top"><a id="a0cccb0b4996fea4fef493cac215964dc"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_temp_sensor.html#a0cccb0b4996fea4fef493cac215964dc">sda_pin</a></td></tr>
<tr class="memdesc:a0cccb0b4996fea4fef493cac215964dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">SDA Pin. <br /></td></tr>
<tr class="separator:a0cccb0b4996fea4fef493cac215964dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2047c52265f21e2b39582a897edd27a5"><td class="memItemLeft" align="right" valign="top"><a id="a2047c52265f21e2b39582a897edd27a5"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_temp_sensor.html#a2047c52265f21e2b39582a897edd27a5">address</a></td></tr>
<tr class="memdesc:a2047c52265f21e2b39582a897edd27a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2C address. <br /></td></tr>
<tr class="separator:a2047c52265f21e2b39582a897edd27a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50918e2d335a60c51066a538053d8ce"><td class="memItemLeft" align="right" valign="top"><a id="ac50918e2d335a60c51066a538053d8ce"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_temp_sensor.html#ac50918e2d335a60c51066a538053d8ce">temp</a> = 0x05</td></tr>
<tr class="memdesc:ac50918e2d335a60c51066a538053d8ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Temp Value Register address. <br /></td></tr>
<tr class="separator:ac50918e2d335a60c51066a538053d8ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab737f9e650bb43857653b2406a0599cf"><td class="memItemLeft" align="right" valign="top"><a id="ab737f9e650bb43857653b2406a0599cf"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>manu</b> = 0x06</td></tr>
<tr class="separator:ab737f9e650bb43857653b2406a0599cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class that reads temperature over I2C from the MCP9808 temperature sensor. </p>
<p>This class contains the functions to read the temperature from the different registers on the sensors. This class cannot use all the functions of the MCP9808, like temperature alerts and such, but it does have core funtionality </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5ca31c0660d324abe25c5cc735aedcf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ca31c0660d324abe25c5cc735aedcf4">&#9670;&nbsp;</a></span>TempSensor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TempSensor::TempSensor </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>scl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for the <a class="el" href="class_temp_sensor.html" title="Class that reads temperature over I2C from the MCP9808 temperature sensor.">TempSensor</a> class. </p>
<p>This constructor takes in the address, scl, and sda pins for connecting to the MCP9808 sensor. The address is set with the address pins, and off of the base address of the MCP 9808. This base address is 0x18, but can be changed from 0x18 to 0x1F depending on the address pins. Look at the datasheet for more info - <a href="https://cdn-shop.adafruit.com/datasheets/MCP9808.pdf">https://cdn-shop.adafruit.com/datasheets/MCP9808.pdf</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scl</td><td>The SCL pin for I2C communication </td></tr>
    <tr><td class="paramname">sda</td><td>The SDA pin for I2C communication </td></tr>
    <tr><td class="paramname">addr</td><td>The address of the MCP9808 sensor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae8a5c53b7f79ce65ae45b5162759acbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8a5c53b7f79ce65ae45b5162759acbd">&#9670;&nbsp;</a></span>getManuCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t TempSensor::getManuCode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the manufacturer code from the MCP9808. </p>
<p>This function is used to ensure proper connection to the MCP9808 sensor. This function, if the sensor is connected correctly, should return 0x54</p>
<dl class="section return"><dt>Returns</dt><dd>The manufacturer ID - should be 0x54 </dd></dl>

</div>
</div>
<a id="aba3ed204bae6bc9f506993001460215e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba3ed204bae6bc9f506993001460215e">&#9670;&nbsp;</a></span>getTempC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float TempSensor::getTempC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the temperature in Celsius from the sensor. </p>
<p>The algorithm for getting the temperature in C is found in the datasheet. Reading from the I2C bus would not have been possible without the people here: <a href="https://forum.arduino.cc/t/how-to-read-a-register-value-using-the-wire-library/206123">https://forum.arduino.cc/t/how-to-read-a-register-value-using-the-wire-library/206123</a></p>
<dl class="section return"><dt>Returns</dt><dd>The temperature in Celsius </dd></dl>

</div>
</div>
<a id="aae0549e59a37efff50d5968aea18ef63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae0549e59a37efff50d5968aea18ef63">&#9670;&nbsp;</a></span>getTempF()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float TempSensor::getTempF </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the temperature in Fahrenheit. </p>
<p>This function just calls <a class="el" href="class_temp_sensor.html#aba3ed204bae6bc9f506993001460215e" title="Gets the temperature in Celsius from the sensor.">TempSensor::getTempC()</a> and then converts to Fahrenheit</p>
<dl class="section return"><dt>Returns</dt><dd>The temperature in Fahrenheit </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>CanOpener/lib/sensorLib/<a class="el" href="_temp_sensor_8h_source.html">TempSensor.h</a></li>
<li>CanOpener/lib/sensorLib/<a class="el" href="_temp_sensor_8cpp.html">TempSensor.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_temp_sensor.html">TempSensor</a></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
